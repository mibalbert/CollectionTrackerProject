
<!doctype html>

<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Recipient Details</title>
		<meta name="description" content="form to add recipient details">
		<meta name="author" content="Alberto Paros">
		<meta name="viewport" content= "width=device-width, initial-scale=1.0">
		<script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />        
		<link href="/style.css" type="text/css" rel="stylesheet" />
		<script type="module/javascript" src="indiv-parcel.js" defer></script>
	</head>
	<body>
		<header>
			<h1><a href="/">Parcelino<span id="dot">.</span></a></h1>
			<ul>
				<li class="logout"><a href="/logout"><span class="material-symbols-outlined">logout</span><span>Log-out</span></a></li>
			</ul>
		</header>
		<main>
			<section class="hero-ill">
				<div class="hero-block">Parcel sending made easy!</div>
			</section>

			<section class="main-sides">
		
				<section class="main-left">
					<nav class="side-nav">
						<ol class="side-nav-bunch">
							<li><a href="/"><span id="side-nav-icon" class="material-symbols-outlined">home</span><span>Home</span></a></li>
							<li><a href="/courier-parcels"><span id="side-nav-icon" class="material-symbols-outlined">list</span><span>Parcels</span></a></li>
							<li><a href="/courier-transit"><span id="side-nav-icon" class="material-symbols-outlined">check_box</span><span>Transit</span></a></li>
							<li><a href="/courier-route"><span id="side-nav-icon" class="material-symbols-outlined">map</span><span>Route</span></a></li>
							<li><a href="/courier-delivered"><span id="side-nav-icon" class="material-symbols-outlined">inbox</span><span>Invoices</span></a></li>			
						</ol>
					</nav>
				</section>
				
				<section class="main-right">
				
				<section class="recipient-details-section">
					<p>Details of recipient:</p>
					
					<p>Parcel's UUID: {{uuid}}</p>

					<form class="recipient-details-form" action="/courier-recipient-details/{{uuid}}" method="POST" enctype="multipart/form-data">
						<label>Recipient's name:<input type="text" name="handed_to_name" required></label>
						<label>Recipient's signature:
							<canvas class="signature-pad"></canvas>
							<div id="signature-pad-clear">Clear</div>
						</label>
							<input type="hidden" name="handed_to_signature">
						<label>
							<input type="submit" name="Submit">
						</label>
					</form>


				</section>
			</section>
		</main>
		<footer>
			<p>This is the footer</p>
		</footer>

		<script>
			const submit_button = document.querySelector('input[name=Submit]')
			const signature = document.querySelector('input[name=handed_to_signature]')
			const canvas = document.querySelector("canvas");
			
			const signaturePad = new SignaturePad(canvas);

			submit_button.addEventListener('click', event => {
				const data = signaturePad.toDataURL()
				signature.value = data
				console.log(signature.value)
			})

			document.getElementById("signature-pad-clear").addEventListener('click', event =>{
				signaturePad.clear()
			})


		</script>


	</body>
</html>
